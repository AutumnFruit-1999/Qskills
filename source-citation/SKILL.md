---
name: source-citation
description: 【必须读取】为信息、反馈、解释和摘要提供引用、参考和来源。当用户需要反馈、解释、摘要、研究结果或任何需要来源归属的信息时使用。在使用工具（WebSearch、WebFetch、Read等）获取信息时，自动包含带有URL、截图、文件路径、引用或时间戳的引用。
triggers:
  - 用户需要搜索结果摘要
  - 用户询问事实性问题
  - 使用WebSearch/WebFetch/Read等工具获取信息
  - 需要提供技术解释或文档
  - 分析文件或代码审查
  - 用户询问客观性问题（需要数据/证据支撑）
  - 用户询问证明性质的问题（"证明给我看"、"有什么依据"等）
  - 用户明确要求提供来源/引用/参考
required: true
---

# 来源引用与参考追踪技能

> **强制执行**: 当触发条件满足时，必须先读取此技能文件，然后按执行流程操作。不得以"已经知道"为由跳过读取步骤。

## 何时使用此技能（触发条件）

当符合以下任一条件时，**必须**激活此技能：

### 信息查询类
- 用户提供查询需要搜索结果摘要
- 用户询问事实性问题的答案
- 用户询问客观性问题（需要数据、统计或证据支撑的结论）

### 证明/验证类
- 用户询问证明性质的问题（如"证明给我看"、"有什么依据"、"数据来源是哪里"）
- 用户质疑某个结论的真实性

### 工具使用类
- 使用 WebSearch、WebFetch、Read 等工具获取信息
- 需要提供技术解释或引用文档
- 进行文件分析或代码审查反馈
- 回答涉及外部内容的摘要

### 用户明确要求
- 用户明确要求"请提供来源"
- 用户要求"给出引用"
- 用户要求"列出参考"

## 执行流程（强制执行）

```
┌─────────────────────────────────────────────────────┐
│  步骤1: 读取此技能文件                                │
│  → 使用 Read 工具读取 SKILL.md                       │
├─────────────────────────────────────────────────────┤
│  步骤2: 执行信息获取                                  │
│  → 使用 WebSearch / WebFetch / Read 等工具           │
├─────────────────────────────────────────────────────┤
│  步骤3: 整理信息并添加引用                            │
│  → 按下方"统一引用格式"输出                          │
├─────────────────────────────────────────────────────┤
│  步骤4: 自检清单                                      │
│  → 核对"引用完成度检查清单"                          │
└─────────────────────────────────────────────────────┘
```

**⚠️ 禁止行为**：
- 不得在未读取此技能的情况下直接搜索和回答
- 不得使用非本技能规定的引用格式
- 不得遗漏来源、时间戳或相关引用

## 核心原则

**使用外部信息时，始终提供来源归属。** 透明度建立信任，并允许用户独立验证信息。

## 统一引用格式（强制使用）

所有引用必须使用以下统一格式，**禁止使用其他格式**：

### 标准格式模板

```markdown
## 来源

| 序号 | 来源名称 | 类型 | 链接/位置 | 访问时间 |
|------|----------|------|-----------|----------|
| 1 | [页面标题](https://url.com) | 网页 | https://url.com | 2026-02-27 |
| 2 | `文件路径` | 文件 | `/path/to/file` | 2026-02-27 |
| 3 | 搜索结果 | 搜索 | 查询: "关键词" | 2026-02-27 |

### 相关引用片段

- **[1]**: "来源中的关键引用片段"
- **[2]**: 文件第X-Y行内容摘要
```

### 格式说明

| 字段 | 要求 | 示例 |
|------|------|------|
| 序号 | 从1开始的数字 | 1, 2, 3... |
| 来源名称 | 网页用链接格式 `[标题](URL)`，文件用代码格式 `` `路径` `` | `[OpenClaw文档](https://...)`, `` `config.yml` `` |
| 类型 | 网页/文件/搜索/截图 | 网页 |
| 链接/位置 | 完整URL或文件绝对/相对路径 | `https://docs...`, `./config.yml` |
| 访问时间 | 格式：YYYY-MM-DD | 2026-02-27 |

## 引用类型详解

### 1. 网络来源（网页）

**适用场景**: 使用 WebSearch、WebFetch 或引用在线文档后

**统一格式**：
```markdown
| 序号 | [页面标题](https://url.com) | 网页 | https://url.com | YYYY-MM-DD |
```

### 2. 本地文件

**适用场景**: 引用项目中的代码、配置或文档时

**统一格式**：
```markdown
| 序号 | `文件路径` | 文件 | `/path/to/file` 或 `./relative/path` | YYYY-MM-DD |
```

### 3. 截图

**适用场景**: 当视觉证据比文本更有效时（UI状态、错误消息、图表）

**统一格式**：
```markdown
| 序号 | `截图文件名.png` | 截图 | `./screenshots/error.png` | YYYY-MM-DD |
```

### 4. 搜索结果

**适用场景**: 使用 WebSearch 进行多来源搜索后

**统一格式**：
```markdown
| 序号 | [来源标题](URL) | 搜索 | 查询: "关键词" | YYYY-MM-DD |
```

## 多来源信息整合

当组合来自多个来源的信息时，在表格中按优先级排序：

| 序号 | 来源名称 | 类型 | 链接/位置 | 访问时间 |
|------|----------|------|-----------|----------|
| 1 | [官方文档](url) | 网页 | https://... | YYYY-MM-DD |
| 2 | [技术博客](url) | 网页 | https://... | YYYY-MM-DD |
| 3 | [社区讨论](url) | 网页 | https://... | YYYY-MM-DD |

**优先级说明**: 官方文档 > 技术博客 > 社区讨论

## 引用最佳实践

1. **具体明确**: 不要只说"根据Google"——提供确切的URL
2. **包含日期**: 网页内容会变化；注明访问时间
3. **选择性引用**: 包含支持您声明的相关摘录
4. **区分类型**: 明确说明是主要来源（官方文档）还是次要来源（博客文章）
5. **保留上下文**: 如果引用，包含足够的上下文使引用有意义
6. **直接链接**: 链接到特定页面/章节，而不仅仅是首页

## 示例（按统一格式）

### 示例 1：网页搜索摘要

**问题**: 用户想了解 OpenClaw 的真实体验

**回答模板**：

```markdown
根据我的搜索，以下是关于 OpenClaw 的发现：

OpenClaw 是一个开源 AI 助手，用户反馈显示其效率提升显著，但使用门槛较高。

## 来源

| 序号 | 来源名称 | 类型 | 链接/位置 | 访问时间 |
|------|----------|------|-----------|----------|
| 1 | [OpenClaw 2026回顾](https://reviewnexa.com/openclaw-review/) | 网页 | https://reviewnexa.com/openclaw-review/ | 2026-02-27 |
| 2 | [腾讯云 - OpenClaw深度体验](https://cloud.tencent.com/developer/article/2630341) | 网页 | https://cloud.tencent.com/developer/article/2630341 | 2026-02-27 |
| 3 | [V2EX - OpenClaw实际使用案例](https://v2ex.com/t/1189910) | 网页 | https://v2ex.com/t/1189910 | 2026-02-27 |

### 相关引用片段

- **[1]**: "OpenClaw经历了爆炸性增长，积累了超过200,000个GitHub星标"
- **[2]**: "13分钟内完成原本需要3-4周的电商分析项目"
- **[3]**: "Token消耗很快，可能快速耗尽API额度"
```

### 示例 2：文件分析

**问题**: 审查配置文件发现问题

**回答模板**：

```markdown
我审查了您的配置并发现数据库 URL 配置错误：

## 来源

| 序号 | 来源名称 | 类型 | 链接/位置 | 访问时间 |
|------|----------|------|-----------|----------|
| 1 | `config/database.yml` | 文件 | `./config/database.yml` | 2026-02-27 |

### 相关引用片段

- **[1]** 第20-25行:
  ```yaml
  database:
    url: "postgres://wrong-host:5432/db"  # <-- 此处配置错误
    pool_size: 10
  ```
```

### 示例 3：工具输出引用

**问题**: 使用 Grep 搜索代码

**回答模板**：

```markdown
搜索结果：在 3 个文件中找到了该函数的定义。

## 来源

| 序号 | 来源名称 | 类型 | 链接/位置 | 访问时间 |
|------|----------|------|-----------|----------|
| 1 | `utils/helper.ts` | 文件 | `./src/utils/helper.ts` | 2026-02-27 |
| 2 | `utils/index.ts` | 文件 | `./src/utils/index.ts` | 2026-02-27 |

### 相关引用片段

- **[1]** 第45-52行: `export function parseData()` 函数定义
- **[2]** 第10行: `export { parseData } from './helper'` 重新导出
```

## 引用完成度检查清单（完成后打勾）

回答前必须确认以下检查项：

- [ ] 已读取此技能文件（强制执行）
- [ ] 使用了 WebSearch/WebFetch/Read 等工具获取信息
- [ ] 使用了统一的"## 来源"表格格式
- [ ] 每个来源都有序号、名称、类型、链接/位置、访问时间
- [ ] 网页来源使用了 `[标题](URL)` 格式
- [ ] 文件来源使用了 `` `路径` `` 格式
- [ ] 日期格式为 YYYY-MM-DD
- [ ] 包含了"相关引用片段"部分（如适用）

**如果任何一项未勾选，回答视为不完整。**

---

## 快速参考

| 情况 | 引用类型 | 必需信息 |
|------|----------|----------|
| 网页搜索 | 网页 | 链接、访问日期、查询 |
| 文档 | 网页 | 直接链接、相关摘录 |
| 代码审查 | 文件 | 相对路径、行号 |
| 错误分析 | 截图 | 图像文件、时间戳 |
| 配置 | 文件 | 路径、相关行 |
| 事实声明 | 网页 | 权威链接 |
